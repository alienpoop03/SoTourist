<app-header
  [title]="'SoTourist'"
  [iconName]="'home-outline'"
  [showBackButton]="false">
</app-header>

<ion-content class="home-content" fullscreen>

  <!-- â”€â”€â”€â”€â”€ HERO / ULTIMO VIAGGIO â”€â”€â”€â”€â”€ -->
  <div *ngIf="lastTrip" class="hero" [ngStyle]="{'background-image': 'url(' + lastTrip.photo + ')'}">
    <div class="hero-overlay">
      <h2>{{ lastTrip.city }}</h2>
      <p>{{ lastTrip.start | date:'dd MMM' }} â†’ {{ lastTrip.end | date:'dd MMM y' }}</p>
      <ion-button size="small" color="light" (click)="openItinerary(0)">
        Riprendi itinerario
        <ion-icon slot="end" name="arrow-forward-outline"></ion-icon>
      </ion-button>
    </div>
  </div>



  <!-- â”€â”€â”€â”€â”€ DESTINAZIONI IMPERDIBILI â”€â”€â”€â”€â”€ -->
  <ion-list class="dest-list">
    <ion-list-header>Destinazioni imperdibili</ion-list-header>

    <div class="dest-grid">
      <ion-card *ngFor="let city of suggestedCities" (click)="openCreate(city.name)">
        <img [src]="city.photo" alt="{{ city.name }}">
        <ion-card-header>
          <ion-card-title>{{ city.name }}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-button fill="clear" size="small">Aggiungi <ion-icon slot="end" name="add-outline"></ion-icon></ion-button>
        </ion-card-content>
      </ion-card>
    </div>
  </ion-list>

  <!-- â”€â”€â”€â”€â”€ PIÃ™ VISITATI QUESTA SETTIMANA â”€â”€â”€â”€â”€ -->
  <ion-list class="trend-list">
    <ion-list-header>I piÃ¹ visitati questa settimana</ion-list-header>

    <div class="trend-scroll">
      <ion-card *ngFor="let t of trending">
        <img [src]="t.photo" alt="{{ t.city }}">
        <div class="trend-label">
          <ion-icon name="trending-up-outline"></ion-icon>&nbsp;{{ t.count }}
        </div>
        <ion-card-content>{{ t.city }}</ion-card-content>
      </ion-card>
    </div>
    
  </ion-list>

  <!-- â”€â”€â”€â”€â”€ I TUOI VIAGGI â”€â”€â”€â”€â”€ -->
  <ion-list *ngIf="trips.length" lines="none" class="my-trips">
    <ion-list-header>I tuoi viaggi</ion-list-header>

    <ion-card *ngFor="let trip of trips; let i = index" (click)="openItinerary(i)">
      <ion-card-header>
        <ion-card-title>{{ trip.city }}</ion-card-title>
        <ion-card-subtitle>{{ trip.start | date:'dd/MM' }} â€“ {{ trip.end | date:'dd/MM/y' }}</ion-card-subtitle>
        <ion-button fill="clear" color="danger" size="small" (click)="deleteTrip(i); $event.stopPropagation()">
          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
        </ion-button>
      </ion-card-header>
      <ion-card-content>
        ğŸ¨ {{ trip.accommodation }}<br>
        â³ {{ trip.days }} giorni
      </ion-card-content>
    </ion-card>
  </ion-list>

</ion-content>

<!-- FAB CREA -->
<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button (click)="goToCreate()">
    <ion-icon name="add-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>
