<!-- src/app/home/home.page.html -->
<app-header [title]="'SoTourist'" [iconName]="'home-outline'" [showBackButton]="false">
</app-header>

<ion-content class="home-content">

  <!-- Hero --------------------------------------------------------------->
  <section class="hero">
    <img src="assets/images/Amsterdam.jpeg" alt="Hero" class="hero-bg" />

    <div class="hero-overlay">
      <h1 class="hero-title">
        La tua prossima<br />avventura ti aspetta
      </h1>
      <p class="hero-subtitle">
        Scopri, pianifica e vivi esperienze uniche con SoTourist
      </p>

      <ion-button class="boxes-style cta-button" expand="block" (click)="openCreate()">
        Crea il tuo viaggio
      </ion-button>
    </div>
  </section>

  <!-- Viaggio in corso -- oppure prossimo viaggio ------------------------>
  <section class="next-trip" *ngIf="currentTrip || nextTrip">
    <h2 class="section-title">
      {{ currentTrip ? 'Viaggio in corso' : 'Il tuo prossimo viaggio' }}
    </h2>

    <ion-card class="boxes-style next-card" (click)="openItinerary((currentTrip || nextTrip)!.itineraryId)">
<img [src]="currentTrip ? currentTripCoverUrl : nextTripCoverUrl" alt="Cover" />
      <ion-card-header>
        <ion-card-title>{{ getFormattedCity(currentTrip || nextTrip) }}</ion-card-title>
        <ion-card-subtitle>
          {{ (currentTrip || nextTrip)!.startDate | date:'d MMM' }} – {{ (currentTrip || nextTrip)!.endDate | date:'d
          MMM y' }}
        </ion-card-subtitle>
      </ion-card-header>
    </ion-card>
  </section>

  <!-- Destinazioni trend -------------------------------------------------->
  <section class="trending">
    <div class="section-heading">
      <h2 class="section-title">Destinazioni trend</h2>
      <!--<ion-button fill="clear" size="small" (click)="openAll()">Vedi tutte</ion-button>-->
    </div>

    <div class="trending-scroll">
      <div class="boxes-style card" *ngFor="let city of trending" (click)="openCreate(city)">
        <img [src]="'assets/images/' + city + '.jpeg'" [alt]="city" />
        <div class="card-overlay">
          <span class="city">{{ city }}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Itinerari consigliati ---------------------------------------------->
  <section class="featured">
    <h2 class="section-title">Itinerari consigliati</h2>

    <div class="featured-list">
      <ion-card class="boxes-style" *ngFor="let itin of featuredItineraries" (click)="openItinerary(itin.itineraryId)">
        <img [src]="itin.coverPhoto" alt="Cover" />
        <ion-card-header>
          <ion-card-title>{{ getFormattedCity(itin) }}</ion-card-title>
          <ion-card-subtitle>
            {{ getTripDays(itin) }} giorni · {{ itin.style }}
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
    </div>
  </section>

  <!-- Citazione ----------------------------------------------------------->
  <!-- <section class="quote">
    <p class="quote-text">
      "The world is a book, and those who do not travel read only one page."
    </p>
    <span class="quote-author">- Augustine of Hippo</span>
  </section>-->

  <section class="quote">
    <p class="quote-text">
      "Yesterday is history, tomorrow is a mystery, but today is a gift, that is why it is called the present."
    </p>
    <span class="quote-author">- Maestro Oogway </span>
  </section>

  <div class="with-floating-tabs"></div>
</ion-content>